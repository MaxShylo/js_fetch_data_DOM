{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","DETAILS","body","document","querySelector","listOfPhone","createElement","getPhones","fetch","then","response","ok","headers","get","includes","json","Error","getPhonesDetails","listOfIds","phonesWithDetails","forEach","phone","object","replace","id","details","push","li","innerText","name","append","catch","error","list","setTimeout"],"mappings":";AAAA,aAEA,IAAMA,EAAW,wEAEXC,EAAU,iFAGVC,EAAOC,SAASC,cAAc,QAC9BC,EAAcF,SAASG,cAAc,MAI3C,SAASC,IACAC,OAAAA,MAAMR,GACVS,KAAK,SAAAC,GACA,OAACA,EAASC,IACRD,EAASE,QAAQC,IAAI,gBAAgBC,SAAS,oBAI7CJ,EAASK,OAHP,IAAIC,MAAX,0BAOR,SAASC,EAAiBC,GAClBC,IAAAA,EAAoB,GAmBnBA,OAjBPD,EAAUE,QAAQ,SAAAC,GACVC,IAAAA,EAAS,GAEfd,MAAMP,EAAQsB,QAAQ,WAAYF,EAAMG,KACrCf,KAAK,SAAAC,GAAYA,OAAAA,EAASK,SAC1BN,KAAK,SAAAgB,GACJH,EAAOD,EAAMG,IAAMC,EACnBN,EAAkBO,KAAKJ,GAEjBK,IAAAA,EAAKxB,SAASG,cAAc,MAElCqB,EAAGC,UAAYH,EAAQI,KACvBxB,EAAYyB,OAAOH,KAEpBI,MAAM,SAAAC,GAAS,OAAA,IAAIhB,MAAMgB,OAGvBb,EAlCTjB,EAAK4B,OAAOzB,GAqCZE,IACGE,KAAK,SAAAwB,GACJhB,EAAiBgB,KAElBF,MAAM,SAAAC,GAASE,OAAAA,WAAW,WAAM,OAAA,IAAIlB,MAAMgB,IAAQ","file":"main.11efe422.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/'\n  + 'phone-catalogue-static/api/phones.json';\nconst DETAILS = 'https://mate-academy.github.io/'\n  + 'phone-catalogue-static/api/phones/:phoneId.json';\n\nconst body = document.querySelector('body');\nconst listOfPhone = document.createElement('ul');\n\nbody.append(listOfPhone);\n\nfunction getPhones() {\n  return fetch(BASE_URL)\n    .then(response => {\n      if (!response.ok\n        || !response.headers.get('content-type').includes('application/json')) {\n        return new Error(`Something went wrong`);\n      }\n\n      return response.json();\n    });\n}\n\nfunction getPhonesDetails(listOfIds) {\n  const phonesWithDetails = [];\n\n  listOfIds.forEach(phone => {\n    const object = {};\n\n    fetch(DETAILS.replace(':phoneId', phone.id))\n      .then(response => response.json())\n      .then(details => {\n        object[phone.id] = details;\n        phonesWithDetails.push(object);\n\n        const li = document.createElement('li');\n\n        li.innerText = details.name;\n        listOfPhone.append(li);\n      })\n      .catch(error => new Error(error));\n  });\n\n  return phonesWithDetails;\n}\n\ngetPhones()\n  .then(list => {\n    getPhonesDetails(list);\n  })\n  .catch(error => setTimeout(() => new Error(error), 5000));\n"]}